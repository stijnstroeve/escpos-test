"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RasterImageGenerator = void 0;
var RasterImageGenerator = /** @class */ (function () {
    function RasterImageGenerator() {
    }
    /**
     * Converts the given bitmap into a raster image.
     * @param blackWhiteBitmap
     * @param width
     * @param height
     * @private
     */
    RasterImageGenerator.fromBitmap = function (blackWhiteBitmap, width, height) {
        var rasterWidth = RasterImageGenerator.getRasterWidth(width);
        var rasterImage = new Uint8Array(rasterWidth * height);
        var x, y, b, c, i;
        for (y = 0; y < height; y++) {
            for (x = 0; x < rasterWidth; x++) {
                for (b = 0; b < 8; b++) {
                    i = x * 8 + b;
                    if (rasterImage[y * rasterWidth + x] === undefined) {
                        rasterImage[y * rasterWidth + x] = 0;
                    }
                    c = x * 8 + b;
                    if (c < width) {
                        if (blackWhiteBitmap[y * width + i]) {
                            rasterImage[y * rasterWidth + x] += (0x80 >> (b & 0x7));
                        }
                    }
                }
            }
        }
        return {
            data: rasterImage,
            width: width,
            height: height,
            rasterWidth: RasterImageGenerator.getRasterWidth(width)
        };
    };
    RasterImageGenerator.getRasterWidth = function (width) {
        return Math.ceil(width / 8);
    };
    return RasterImageGenerator;
}());
exports.RasterImageGenerator = RasterImageGenerator;
//# sourceMappingURL=rasterImage.js.map